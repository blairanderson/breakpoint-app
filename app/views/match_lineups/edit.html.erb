<% title 'Set match lineup' %>

<% if @match.users.empty? %>
  <div class="alert alert-info">
    There are no available players yet.
  </div>
<% else %>
  <%= simple_form_for(@match, :html => { :class => 'form-horizontal' } ) do |f| %>
    <%= f.error_messages %>

    <%= f.simple_fields_for :match_lineups do |match_lineup_form| %>
      <%= match_lineup_form.input :user_id,
        :collection   => @match.users,
        :label        => match_lineup_form.object.match_type,
        :label_method => :name,
        :value_method => :id %>
    <% end %>

    <%# need the season_id so cancan will properly load_and_authorize it from the MatchController %>
    <%= hidden_field_tag 'season_id', @match.season_id %>
    <div class="form-actions">
      <%= f.submit 'Save match lineup', :class => 'btn btn-primary' %>
    </div>
  <% end %>
<% end %>